<div class="panel panel-default">
    <div class="panel-body">
        <h1>{{ formTitle || 'Lost & Found' }}</h1>

        <div class="intro">
            <div ng-if="formHeader" ng-bind-html="formHeader"></div>
            <div ng-if="!formHeader">
                <p>
                    The King County Metro Lost & Found office at King Street Center in Pioneer Square at 201 S Jackson St is open on weekdays from 8:30am to 4:30pm; closed on weekends and holidays.
                <p>
                    Found items are held for 30 days from the date of ride, except for bikes, which are held for 10 days due to storage limitations.<br/>
                    <strong>You must have a valid email address to submit this form.</strong>
                </p>
            </div>
        </div>
        <div class="text-danger" aria-hidden="true">* Required Fields</div>

        <form name="form" novalidate="true" ng-submit="submit()">
            <h2>Lost Item Details</h2>

            <div class="form-group" show-errors>
                <label class="control-label required" for="itemType">Item Type</label>

                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        <select id="itemType" name="itemType" class="form-control" ng-model="input.lostItemType"
                                ng-options="p.value as p.label for p in lostItemTypes" ng-required="true">
                            <option value="" selected="selected">Choose...</option>
                        </select>
                    </div>
                </div>
                <p class="help-block validation" role="alert">The Lost item type is required.</p>
            </div>
            <div class="form-group" show-errors>
                <label class="control-label required" for="itemColor">Item Primary Color</label>

                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        <select id="itemColor" name="itemColor" class="form-control" ng-model="input.lostItemColor"
                                ng-options="p.value as p.label for p in lostItemColors" ng-required="true">
                            <option value="" selected="selected">Choose...</option>
                        </select>
                    </div>
                </div>
                <p class="help-block validation" role="alert">The Lost item color is required.</p>
            </div>
            <div class="form-group" show-errors>
                <label class="control-label required" for="itemColorStyle">Item Color Style</label>

                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        <select id="itemColorStyle" name="itemColorStyle" class="form-control" ng-model="input.lostItemColorStyle"
                                ng-options="p.value as p.label for p in lostItemColorStyles" ng-required="true">
                            <option value="" selected="selected">Choose...</option>
                        </select>
                    </div>
                </div>
                <p class="help-block validation" role="alert">The Lost item color is required.</p>
            </div>
            <div class="form-group" show-errors>
                <label class="control-label required" for="comment">Description</label>
                <textarea id="comment" name="comment" class="form-control" rows="8" cols="75" ng-model="input.comment"
                          ng-required="true" ng-maxlength="4000"></textarea>
                <div ng-messages="form.comment.$error">
                    <p ng-message="required" class="help-block validation" role="alert">You need to type something here.</p>
                    <p ng-message="maxlength" class="help-block validation" role="alert">Maximum allowed length is 4000</p>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label" id="upload-prompt">
                    Attach Picture:
                    <button type="button" class="btn btn-default" ngf-select="true" ngf-change="onFileSelect($files,$event)" accept="image/*" aria-describedby="upload-prompt">Upload</button>
                </label>
                <p>Optional information - images are not used for item matching</p>
                <ol class="list-group" ng-show="files.length > 0">
                    <li class="list-group-item" ng-repeat="f in files" role="alert"><span class="text-success">
          <i class="glyphicon glyphicon-refresh spinner" ng-show="f.uploading" aria-hidden="true"></i>
          <i class="glyphicon glyphicon-ok" ng-show="!f.uploading" aria-hidden="true"></i>
          <span class="hidden">File uploaded successfully</span>
          </span> {{ f.name }}
                    </li>
                </ol>
            </div>

            <h2>Your Ride Details</h2>

            <div class="form-group" show-errors>
                <label class="control-label required" for="date">Date of Ride</label>
                <p id="date-help">What day were you on the bus?</p>
                <div class="row">
                    <div class="col-md-3 col-xs-12">
                        <div class="input-group">
                            <input id="date" type="text" class="form-control" name="date" ng-model="input.date" ng-required="true" uib-datepicker-popup="{{date.format}}" is-open="date.opened"
                                   max-date="date.maxDate" min-date="date.minDate" alt-input-formats="date.inputFormats" ng-change="selectDate()" aria-describedby="date-help"/>
                            <span class="input-group-btn">
                <button type="button" class="btn btn-default" tabindex="-1" aria-hidden="true" ng-click="date.open($event)" aria-label="calendar"><i class="glyphicon glyphicon-calendar"></i></button>
              </span>
                        </div>
                    </div>
                </div>
                <p class="help-block validation" role="alert">Date of Ride is required and must be within last 30 days. Accepted formats: Month/Day/Year or Month/Day</p>
            </div>
            <div class="form-group" show-errors>
                <label class="control-label required" for="time">Time of Day</label>
                <p id="time-help">When did you lose the item?</p>
                <div class="row">
                    <div class="col-sm-3">
                        <input type="time" id="time" name="time" class="form-control" ng-model="input.time" ng-required="true" aria-describedby="time-help" time-input/>
                    </div>
                </div>
                <p class="help-block validation" role="alert">Please select Time of Day.</p>
            </div>
            <div class="form-group" show-errors>
                <label class="control-label required" for="serviceType">Service Type</label>

                <div class="row">
                    <div class="col-sm-3">
                        <select id="serviceType" name="serviceType" ng-model="input.serviceType" class="form-control" ng-change="selectType()" ng-options="p.value as p.label for p in serviceTypes"
                                ng-required="true">
                            <option value="">Choose...</option>
                        </select>
                    </div>
                </div>
                <p class="help-block validation" role="alert">Service Type is required.</p>
            </div>
            <div class="form-group" ng-if="useRoute" show-errors>
                <label class="control-label required" for="route">Route Number</label>

                <p id="route-help">Please enter the route number you were traveling (example, enter "167" for Route 167). For RapidRide lines, enter the letters A, B, C or D.</p>

                <div class="row">
                    <div class="col-md-3 col-xs-12">
                        <select id="route" name="route" class="form-control" ng-model="input.route" ng-options="p.value as p.label for p in routes | filter:{serviceType : input.serviceType}"
                                aria-describedby="route-help" ng-required="true">
                            <option value="" selected="selected">Choose...</option>
                        </select>
                        <p class="help-block validation">Route Number is required.</p>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label" for="bus">{{ useBus ? 'Bus' : 'Vehicle' }} Number</label>

                <p ng-show="useBus" id="bus-help">This is the 3- or 4-digit number on the outside of a bus in the outer corners or inside at the right front corner, opposite the driver, is the bus
                    number.</p>

                <div class="row">
                    <div class="col-md-3 col-xs-12">
                        <input type="text" id="bus" name="bus" class="form-control" ng-model="input.bus" aria-describedby="bus-help"/>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label" for="location">Location</label>

                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        <input type="text" id="location" name="location" class="form-control" ng-model="input.location"/>
                    </div>
                </div>
            </div>
            <h2>Your Contact Information</h2>

            <div class="form-group" show-errors="true">
                <label class="control-label required" for="name">Name</label>
                <p id="name-help">Enter First & Last name only</p>
                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        <input type="text" id="name" name="name" class="form-control" ng-model="input.name" ng-required="true" placeholder="Jane Doe" aria-describedby="name-help"/>
                    </div>
                </div>
                <p class="help-block validation" role="alert">Your name is required.</p>
            </div>
            <div class="form-group" show-errors>
                <label class="control-label required" for="email">Email</label>
                <p id="email-help">Valid email address required for correspondence</p>
                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        <input type="email" id="email" name="email" class="form-control" ng-model="input.email" placeholder="name@domain.com"
                               ng-required="true" aria-describedby="email-help"/>
                    </div>
                </div>
                <p class="help-block validation" role="alert">Your email is required.</p>
            </div>
            <div class="form-group" show-errors>
                <label class="control-label required" for="phone">Phone Number</label>

                <p id="phone-help">Please include the area code.</p>

                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        <input type="phone" id="phone" name="phone" class="form-control" ng-model="input.phone" aria-describedby="phone-help" ng-required="true"/>
                        <p div class="help-block validation" role="alert">Phone Number is required.</p>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-lg btn-action">Submit</button>
                <button type="button" class="btn btn-lg btn-default pull-right" ng-click="cancel()">Cancel</button>
            </div>
        </form>
    </div>
</div>
